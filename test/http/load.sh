#!/bin/bash
# ./webservしながら使う

curl -v localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202

curl -X POST localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202 localhost:4200 localhost:4201 localhost:4202

methods=("GET" "POST")

for ((i=0; i<100; i++));
do
  # sleep 0.01
  PORT=`expr 4200 + $RANDOM % 3`
  curl localhost:$PORT -X ${methods[$RANDOM % 2]}
done